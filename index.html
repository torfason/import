<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>An Import Mechanism for R • import</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="An Import Mechanism for R">
<meta property="og:description" content="Alternative mechanism for importing objects from packages
    and R modules. The syntax allows for importing multiple objects with a single
    command in an expressive way. The import package bridges some of the gap
    between using library (or require) and direct (single-object) imports.
    Furthermore the imported objects are not placed in the current environment.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">import</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/import.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rticulate/import/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<p><img src="articles/import.png?raw=true" align="right" alt="" width="120"></p>
<!-- badges: start -->
<p><a href="https://github.com/rticulate/import/actions"><img src="https://github.com/rticulate/import/workflows/R-CMD-check/badge.svg" alt="R build status"></a> <!-- badges: end --></p>
<div id="an-import-mechanism-for-r" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#an-import-mechanism-for-r" class="anchor"></a>An Import Mechanism For R</h1></div>
<p>The import package is intended to simplify the way in which functions from external packages or modules are made available for use in R scripts. Learn more on the <a href="https://import.rticulate.org/">package website</a>, by reading <a href="https://import.rticulate.org/articles/import.html"><code>vignette("import")</code></a>, or using the help (<code><a href="reference/from.html">?import::from</a></code>).</p>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>The typical way of using functionality exposed by a package in R scripts is to load (and attach) the entire package with <code>library()</code> (or <code>require()</code>). This can have the <strong>undesirable effect of masking objects</strong> in the user’s search path and can also make it difficult and <strong>confusing to identify</strong> what functionality comes from which package when using several <code>library</code> statements.</p>
<p>The <code>import</code> package provides a simple alternative, allowing the user specify in a concise way exactly which objects. For example, the <code>Hmisc</code> package exposes over four hundred functions. Instead of exposing all of those functions, someone who only needs access to, say the <code>impute()</code> and the <code>nomiss()</code> functions, can import those functions only:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="kw">import</span>::<span class="fu"><a href="reference/from.html">from</a></span>(<span class="kw">Hmisc</span>, <span class="kw">impute</span>, <span class="kw">nomiss</span>)
</pre></div>
<p>For more on the motivation behind the package, see <a href="https://import.rticulate.org/articles/import.html">vignette(“import”)</a></p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>To install <code>import</code> from CRAN:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"import"</span>)
</pre></div>
<p>You can also install the development version of <code>import</code> from GitHub using <code>devtools</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="kw">devtools</span>::<span class="fu">install_github</span>(<span class="st">"rticulate/import"</span>)
</pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div id="importing-functions-from-r-packages" class="section level3">
<h3 class="hasAnchor">
<a href="#importing-functions-from-r-packages" class="anchor"></a>Importing functions from R packages</h3>
<p>The most basic use case is to import a few functions from package (here the <code>psych</code> package):</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="kw">import</span>::<span class="fu"><a href="reference/from.html">from</a></span>(<span class="kw">psych</span>, <span class="kw">geometric.mean</span>, <span class="kw">harmonic.mean</span>)
<span class="fu">geometric.mean</span>(<span class="kw">trees</span><span class="op">$</span><span class="kw">Volume</span>)
</pre></div>
<p>If one of the function names conflicts with an existing function (such as <code>filter</code> from the <code>dplyr</code> package) it is simple to rename it:</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="kw">import</span>::<span class="fu"><a href="reference/from.html">from</a></span>(<span class="kw">dplyr</span>, <span class="kw">select</span>, <span class="kw">arrange</span>, keep_when = <span class="kw">filter</span>)
<span class="fu">keep_when</span>(<span class="kw">mtcars</span>, <span class="kw">hp</span><span class="op">&gt;</span><span class="fl">250</span>)
</pre></div>
<p>Use <code>.all=TRUE</code> to import all functions from a package. If you want to rename one of them, you can still do that:</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="kw">import</span>::<span class="fu"><a href="reference/from.html">from</a></span>(<span class="kw">dplyr</span>, keep_when = <span class="kw">filter</span>, .all=<span class="fl">TRUE</span>)
</pre></div>
<p>To omit a function from the import, use <code>.except</code> (which takes a character vector):</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="kw">import</span>::<span class="fu"><a href="reference/from.html">from</a></span>(<span class="kw">dplyr</span>, .except=<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"filter"</span>, <span class="st">"lag"</span>))
</pre></div>
<p>Note that <code>import</code> tries to be smart about this and assumes that if you are using the <code>.except</code> parameter, you probably want to import everything you are <em>not</em> explicitly omitting, and sets the <code>.all</code> parameter to <code>TRUE</code>. You can still override this in exceptional cases, but you seldom need to.</p>
<p>These and other examples are discussed in more detail in the <a href="articles/import.html#importing-from-packages">Importing from Packages</a> section of the package vignette.</p>
</div>
<div id="importing-functions-from-module-scripts" class="section level3">
<h3 class="hasAnchor">
<a href="#importing-functions-from-module-scripts" class="anchor"></a>Importing Functions from “Module” Scripts</h3>
<p>The <code>import</code> package allows R files to be used as “modules” from which functions are loaded. For example, the file <a href="https://raw.githubusercontent.com/rticulate/import/master/man/examples/sequence_module.R">sequence_module.R</a> contains several functions calculating terms of mathematical sequences. It is possible to import from such files, just as one imports from packages:</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="kw">import</span>::<span class="fu"><a href="reference/from.html">from</a></span>(<span class="kw">sequence_module.R</span>, <span class="kw">fibonacci</span>, <span class="kw">square</span>, <span class="kw">triangular</span>)
</pre></div>
<p>Renaming, as well as the <code>.all</code> and <code>.except</code> parameters, work in the same way as for packages:</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="kw">import</span>::<span class="fu"><a href="reference/from.html">from</a></span>(<span class="kw">sequence_module.R</span>, fib=<span class="kw">fibonacci</span>, .except=<span class="st">"square"</span>)
</pre></div>
<p>These and other examples are discussed in more detail in the <a href="articles/import.html#importing-functions-from-module-scripts">Importing from Modules</a> section of the package vignette.</p>
</div>
<div id="choosing-where-import-looks-for-packages-or-modules" class="section level3">
<h3 class="hasAnchor">
<a href="#choosing-where-import-looks-for-packages-or-modules" class="anchor"></a>Choosing where import looks for packages or modules</h3>
<p>The <code>import</code> package will by default only use the latest specified library (i.e. the result of <code>.libPaths()[1L]</code>). It is possible to specify a different library using the <code>.library</code> argument in any of the <code>import</code> functions. One import call can only use <em>one</em> library so there will not be ambiguity as to where imports come from.</p>
<p>When importing from a module (.R file), the directory where <code>import</code> looks for the module script can be specified with the with <code>.directory</code> parameter. The default is <code>.</code> (the current working directory).</p>
</div>
<div id="choosing-where-the-imported-functions-are-placed" class="section level3">
<h3 class="hasAnchor">
<a href="#choosing-where-the-imported-functions-are-placed" class="anchor"></a>Choosing where the imported functions are placed</h3>
<p>By default, imported objects are placed in a separate entity in the search path called “imports”. One can also specify which names to use in the search path and use several to group imports:</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="kw">import</span>::<span class="fu"><a href="reference/from.html">from</a></span>(<span class="kw">magrittr</span>, <span class="st">"%&gt;%"</span>, <span class="st">"%$%"</span>, .into = <span class="st">"operators"</span>) 
<span class="kw">import</span>::<span class="fu"><a href="reference/from.html">from</a></span>(<span class="kw">dplyr</span>, <span class="kw">arrange</span>, .into = <span class="st">"datatools"</span>)
</pre></div>
<p>If using custom search path entities actively, one might prefer the alternative syntax (which does the same but reverses the argument order):</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="kw">import</span>::<span class="fu"><a href="reference/from.html">into</a></span>(<span class="st">"operators"</span>, <span class="st">"%&gt;%"</span>, <span class="st">"%$%"</span>, .from = <span class="kw">magrittr</span>)
<span class="kw">import</span>::<span class="fu"><a href="reference/from.html">into</a></span>(<span class="st">"datatools"</span>, <span class="kw">arrange</span>, .from = <span class="kw">dplyr</span>)
</pre></div>
<p>If it is desired to place imported objects in the current environment, use <code><a href="reference/from.html">import::here()</a></code>:</p>
</div>
<div id="more-advanced-usage" class="section level3">
<h3 class="hasAnchor">
<a href="#more-advanced-usage" class="anchor"></a>More advanced usage</h3>
<p>The <code>import</code> package is designed to be simple to use for basic cases, so it uses symbolic evaluation to allow the names of packages, modules and functions to be entered without quotes (except for operators, such as <code>"%&gt;%"</code> which must be quoted). However, this means that it calling a variable containing the name of a module, or a vector of functions to import, will not work. For this use case, you can use the <code>.character_only</code> parameter:</p>
<div class="sourceCode" id="cb12"><pre class="downlit">
<span class="kw">module_name</span> <span class="op">&lt;-</span> <span class="st">"../utils/my_module.R"</span>

<span class="co"># Will not work (import will look for a package called "module_name")</span>
<span class="kw">import</span>::<span class="fu"><a href="reference/from.html">from</a></span>(<span class="kw">module_name</span>, <span class="kw">foo</span>, <span class="kw">bar</span>)

<span class="co"># This will correctly import the foo() and bar() functions from "../utils/my_module.R"</span>
<span class="kw">import</span>::<span class="fu"><a href="reference/from.html">from</a></span>(<span class="kw">module_name</span>, <span class="kw">foo</span>, <span class="kw">bar</span>, .character_only=<span class="fl">TRUE</span>)
</pre></div>
<p>The <code>.character_only</code> parameter is covered in more detail in the <a href="articles/import.html#advanced-usage">Advanced Usage</a> section of the package vignette, which also describes how you can import from module scripts stored online with the help of the <code>pins</code> package, or achieve python-like imports with the help of <code>{}</code> notation for environments in the <code>.into</code> parameter.</p>
</div>
</div>
</div>
<div id="see-also" class="section level1">
<h1 class="hasAnchor">
<a href="#see-also" class="anchor"></a>See also:</h1>
<ul>
<li>For an interesting but slightly different idea of Python-like modules for R, see the <a href="https://github.com/klmr/modules">modules</a> package by @klmr.</li>
<li>Another approach, focused on treating the use of functions with naming conflicts as explicit errors is the <a href="https://github.com/r-lib/conflicted">conflicted</a> package by @hadley.</li>
</ul>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=import">https://​cloud.r-project.org/​package=import</a>
</li>
<li>Browse source code at <br><a href="https://github.com/rticulate/import/">https://​github.com/​rticulate/​import/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/rticulate/import/issues">https://​github.com/​rticulate/​import/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Stefan Milton Bache <br><small class="roles"> Author, maintainer </small>  </li>
<li>Magnus Thor Torfason <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Stefan Milton Bache, Magnus Thor Torfason.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
